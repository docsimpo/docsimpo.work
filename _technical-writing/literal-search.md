---
layout: article
author: Yedda Wang
title: 普通查找
---

上月末，[B 站发公告自称“百度”](https://mp.weixin.qq.com/s/C0ekDnxNUECF-eiRVVSRdA)的新闻登上热搜，不仅被央视点了名，还引来网友一阵群嘲：**抄作业把别人名字都抄上了，还是在第一页！**

即使不知内情，想必是个地球人都能脑补出一副熟悉的画面：满屏翻飞的文件，密密麻麻的文字，匆忙晃动的鼠标，一刻不停地——**查找/替换**！

查找/替换功能看似简单，但要用得又快又好却不是一件容易的事儿。事实上，它的功能之强大也远远超出了很多人的想象！~~想必 B 站的相关人员也没掌握好这项大众技能，不然也不会闹出这处乌龙了~~

正好，我最近用到了最高级的查找/替换利器———正则表达式。今后再紧急的文字工作也只能算一盘小菜了，听起来香不香? 

# 左侧优先原则

在一头扎进正则表达式的世界之前，我们先好好拆解一下大多数人在MS Word里几乎每天都用到的查找/替换功能的执行机制。这不仅有助于更好的理解貌似很深奥很乱码的正则表达式，还能让你以舒适的步速迈过二者之间的分界。

![小王，看见王刚了吗?看见了，王刚刚刚刚走。](https://mmbiz.qpic.cn/mmbiz_jpg/h11VMG8jwaf9Z25uFeiaa8hTmc3TAranDIriaBbibgKZrtd0mkUib0kGbhBVKFwfs2DvQzibu9e131HZXOgDVIUunpQ/0?wx_fmt=jpeg)

眼熟不? 这是 Word 里最常见的查找方式，也是系统默认的一种。

句子中有两个“王刚”，但它只查找了一个，而且是靠左的那个。这里体现的就是搜索引擎的左侧优先原则。

> 当然，你可以继续查找文中的其他匹配项，但是你必须进行额外的操作，比如【查找下一个】、或者更改【在以下项中查找】的设置。

# 动作分解

只知道左侧优先这个术语还远远不够，我们还必须进一步探究它到底是怎样一步步地执行查找的。

只有在显而易见的实例中刨根问底，才能在遇到复杂抽象的技术概念时保持思路清晰。正则表达式正是这样一种充满诱惑的迷宫———精彩总在磨人后，想吃热豆腐可不能心急哦！

[插入视频]

搜索引擎接收到用户输入的查找内容后，按照从左到右的顺序依次将文件中的文本与查找内容进行比对。只要找到与查找内容完全匹配的文本，马上停止查找并向用户报告查找结果。

查找的逻辑很简单，但用文字一步步地描述起来却是枯燥又罗嗦。还好有动画演示（值得多看几眼）！

这里强调一点：**比对时，搜索引擎只有在完全确定当前字符绝不可能是用户要查找的内容时，才会移向下一个字符**。

慢慢体会……

# 查找内容

要进行查找，首先要在查找文本框里输入文字。这似乎没什么可讨论的，但**正则表达式恰恰就是在这里大作文章的**。

通常，我们会直接输入想要查找的文字，让搜索引擎查找与我们的输入一模一样的内容。比如输入```王刚```，搜索引擎只有找到与```王刚```完全相同的两个字符时才会告诉我们找到了，不然就只能说这里没有```王刚```。

这里引入一个概念，叫**普通字符**。```王刚```两个字在正则表达式里就属于普通字符。除了汉字、英文字母以及其他各种语言文字之外，普通字符还包括标点符号、数字、序号以及可直接输入的其他符号。

最简单的正则表达式，是全部由普通字符组成的字符串。它不仅遵循左侧优先原则，查找方法也和 Word 里的默认方式别无二致。

**唯一的区别是，**正则表达式的默认设置是区分英文字母的大小写，而 Word 在默认情况下不区分大小写。

当然，正则表达式的功能绝不止于此。作为一种专门用来表示字符串结构的公式（也叫模式），它不仅可以对文本进行花样繁多的查找/替换操作，还可以通过命令行批量处理多个文件。这一切，都要得益于它预留的特殊字符们……

# 参考资料

1. Regular Expressions: The Complete Turoial

